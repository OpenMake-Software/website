<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Build Control File Syntax</title>
<meta charset="utf-8" /><link rel="stylesheet" type="text/css" href="LinksExt/zOS Development Guide.css" />
<script src="js/nethelp.redirector.js" type="text/javascript"></script>
<link rel="prev" href="sampleoomlbldmjclusage.htm" /><link rel="next" href="oomlomjclusage.htm" />
<meta name="Generator" content="ComponentOne Doc-To-Help v.2014.1.0.935" />
</head>
<body data-c1-topic-id="b0136f3f-2532-44c3-bd21-ee6daf0d8bd7">
<h3>Build Control File Syntax</h3>
<p class="MsoNormal"> </p>
<p class="MsoNormal"> </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 27pt">A Build Control file is 
essentially a recipe that contains all of the components to be included in a 
build. It is similar to a traditional, manually coded build script in that it 
contains the information on how to build an executable.</p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 27pt"> </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 27pt">The information used to 
generate the Build Control file is entered into the Web Client and stored on the 
<i>Knowledgebase Server</i>.  The <span style="FONT-FAMILY: Courier">OOMLBLDM</span> program uses the build component 
information to generate an Build Control file.  In turn, <span style="FONT-FAMILY: Courier">OOMLOM</span> the build engine, reads the Build 
Control file to determine what should be built.  The Build Control file is, 
therefore, a powerful element in achieving a repeatable build process.  
Much like a recipe allows a cook, in theory, to recreate a meal, the Build 
Control file allows a Developer or Administrator to recreate a build.  As 
such, the Build Control file should never be altered manually.  Any 
adjustments to the components of a build should be made from within the Web 
Client interface.  Ideally, the Build Control file should be versioned 
along with an application's source code.</p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 27pt">Although you will never need 
to manually code an Build Control file, it is helpful to understand the layout 
of the Build Control file.  The following is a detailed explanation of each 
section of a Build Control file.  The example Build Control file is for the 
"Main Frame Build Demo" <i>Project</i> for a <i>Target</i> - “<span style="FONT-FAMILY: 'Courier New'">load(asmhi)</span>”.</p>
<div style="MARGIN-BOTTOM: 9pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0pt; PADDING-TOP: 1pt; PADDING-LEFT: 0pt; BORDER-LEFT: medium none; MARGIN-TOP: 0pt; PADDING-RIGHT: 0pt">
<p class="MsoFooter" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"> </p></div>
<p class="MsoNormal" style="MARGIN-BOTTOM: 9pt"> </p>
<p class="MsoNormal"><b>Section One: Environment Variables</b></p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 27pt"> </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 27pt">The first section of the 
Build Control file displays all of the environment variable settings necessary 
to perform the build.  These variables are unique to <span style="FONT-FAMILY: Courier">OOMLBLDM</span> and <span style="FONT-FAMILY: Courier">OOMLOM</span> and represent the particular 
attributes of the <i>Project</i> to be built.</p>
<p class="MsoNormal" style="MARGIN-LEFT: 27pt; TEXT-AUTOSPACE: "><span style="FONT-FAMILY: Courier">APPL=MAINFRAME BUILD DEMO</span></p>
<p class="MsoNormal" style="MARGIN-LEFT: 27pt; TEXT-AUTOSPACE: "><span style="FONT-FAMILY: Courier">STAGE=DEVELOPMENT</span></p>
<p class="MsoNormal" style="MARGIN-LEFT: 27pt; TEXT-AUTOSPACE: "><span style="FONT-FAMILY: Courier">MAKEFILEDIR=</span></p>
<p class="MsoNormal" style="MARGIN-LEFT: 27pt; TEXT-AUTOSPACE: "><span style="FONT-FAMILY: Courier"></span> </p>
<p class="MsoNormal" style="MARGIN-LEFT: 27pt; TEXT-AUTOSPACE: "><span style="FONT-FAMILY: Courier">VPATH=.;//CEE.SCEEH;//CEE.SCEEH.H;</span></p>
<p class="MsoNormal" style="MARGIN-LEFT: 27pt; TEXT-AUTOSPACE: "><i><span style="FONT-FAMILY: Courier">PROJECT</span></i><span style="FONT-FAMILY: Courier">VPATH=.;</span></p>
<p class="MsoNormal" style="MARGIN-LEFT: 36pt"><span style="FONT-FAMILY: Courier"></span> </p>
<p class="MsoNormal" style="MARGIN-LEFT: 72pt"> </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 45.35pt; TEXT-INDENT: -9.85pt; tab-stops: 18.0pt 45.35pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">   </span></span>The 
"APPL" environment variable refers to the <i>Project</i> name.  In this 
case, the Build Control file was generated for the "Mainframe Build Demo" 
<i>Project</i>.  </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 36pt"> </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 45.35pt; TEXT-INDENT: -9.85pt; tab-stops: 18.0pt 45.35pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">   </span></span>The 
"STAGE" environment variable refers to the <i>Search Path</i> name: 
"Development" for which the Build Control file was generated.</p>
<p class="MsoNormal" style="MARGIN-BOTTOM: 9pt"> </p>
<p class="MsoNormal" style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; tab-stops: 36.0pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">     
</span>The "MAKEFILEDIR" environment variable is most often empty, as seen 
above.  By default, a Build Control file is generated in the user-defined 
Build Directory.  However, in certain cases, a developer may choose to 
regenerate a Build Control file in a data set other than the Build High Level 
qualifier.   In these cases, the "MAKEFILEDIR" environment variable 
indicates the alternate data set in which the developer wants to save the Build 
Control file.  The "MAKEFILEDIR" variable gets defined by using the "-m" 
flag and its associated "File Directory" parameter on the <span style="FONT-FAMILY: Courier">OOMLBLDM</span> using batch JCL.</p>
<p class="MsoNormal"> </p>
<p class="MsoNormal" style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; tab-stops: 36.0pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">     
</span>The "VPATH" environment variable lists all the directories included in 
the <i>Search Path</i>.  The directories are displayed in search order and 
separated by a semicolon.</p>
<p class="MsoNormal"> </p>
<p class="MsoNormal" style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; tab-stops: 36.0pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">     
</span>The "<i>PROJECT</i>VPATH" environment variable lists <i>Search Path</i> 
directories that are selected as <i>Project</i> Directories in the Web 
Client.    Like the "VPATH" directories, the 
"<i>PROJECT</i>VPATH" directories are listed in search order and separated by a 
semicolon. </p>
<div style="MARGIN-BOTTOM: 9pt; BORDER-TOP: windowtext 1pt solid; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; PADDING-BOTTOM: 0pt; PADDING-TOP: 1pt; PADDING-LEFT: 0pt; BORDER-LEFT: medium none; MARGIN-TOP: 0pt; PADDING-RIGHT: 0pt">
<p class="MsoFooter" style="MARGIN-BOTTOM: 0pt; MARGIN-TOP: 0pt"> </p></div>
<p class="MsoNormal"><b>Section Two: Targets and Dependencies </b></p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 27pt"> </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 27pt">The second section of the 
Build Control file lists the <i>Target</i> and Dependency components of the 
intended build.  The example below is the first of several <i>Targets</i> 
included in the "ACMEGREETINGS" Build Control file. </p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">load(asmhi) : 
obj(hiworld)</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      
FINAL<i>TARGET</i> load(asmhi)</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      <i>TARGET</i> 
load(asmhi)</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      
<i>PROJECT</i>DIRS </span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      DBINFO 
</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      DEFINES 
</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      INTDIR 
</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      BUILDTYPE 
Assembler Load Module</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      SCRIPT zOS 
Link Edit JCL.sc</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      OSNAME 
zOS</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      DEBUGFLAGS 
LIST ALIGN</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      RELEASEFLAGS 
LIST ALIGN</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'"></span> </p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">obj(hiworld) : 
asm(hiworld)</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      
FINAL<i>TARGET</i> load(asmhi)</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      <i>TARGET</i> 
obj(hiworld)</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      
<i>PROJECT</i>DIRS </span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      DBINFO 
</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      
DEFINES</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      INTDIR 
</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      BUILDTYPE 
Assembler Load Module</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      SCRIPT zOS 
Assemble JCL.sc</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      OSNAME 
zOS</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      DEBUGFLAGS 
</span></p>
<p class="MsoNormal"><span style="FONT-FAMILY: 'Courier New'">      RELEASEFLAGS 
</span></p>
<p class="MsoNormal" style="TEXT-AUTOSPACE: "><span style="FONT-FAMILY: 'Courier New'"></span> </p>
<p class="MsoNormal" style="MARGIN-LEFT: 36pt"> </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 18pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The text on the first line and to the left of the colon, "<span style="FONT-FAMILY: Courier"> load(asmhi)</span>", is the <i>Target</i> 
name.  All of the information to the right of the colon and below the first 
line is <i>Target</i> dependencies. </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 18pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The <i>Target</i> dependencies are listed to the right of the 
colon and below the first line.  </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 18pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>After the dependencies, the <i>Target</i> variables are 
listed:</p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "FINAL <i>TARGET</i>" variable refers to the end result 
executable, in this case "<span style="FONT-FAMILY: Courier"> load(asmhi) 
</span>".</p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "<i>TARGET</i>" variable references the <i>Target</i> 
itself.</p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "<i>PROJECT</i>DIRS" variable indicates all of the 
<i>Project</i> Datasets used by the <i>Target</i>'s Dependencies.  If 
multiple <i>Project</i> Datasets  exist, they are concatenated and 
separated by a semicolon.  Eventually, <span style="FONT-FAMILY: Courier">OOMLOM</span> the build engine, concatenates the 
"<i>PROJECT</i>VPATH" environment variable and the "<i>PROJECT</i>DIRS" 
<i>Target</i> variables.  </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "DBINFO" variable contains flags that are specific to the 
Pre-compiler and do not need to be passed to the Compiler.  In the Web 
Client or ISPF panel, the Pre-compile Flags get set on the <i>Target</i> Detail 
screen in the "Pre-compile Parameters" field.  For the "<span style="FONT-FAMILY: Courier">load(asmhi)</span>"  <i>Target</i> no flags 
need to be passed to the Pre-compiler.</p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "DEFINES" variable refers to Compiler Flags.  In the Web 
Client or ISPF panel, the Compiler Flags get set on the <i>Target</i> Detail 
screen in the "Additional Flags" field.  For the "<span style="FONT-FAMILY: Courier">load(asmhi)</span>" <i>Target</i> no Additional 
Flags need to be passed to the Compiler.</p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "INTDIR" variable indicates the Intermediate Directory if 
used.</p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "BUILDTYPE" variable details the <i>Build Type</i> to be used 
when building the <i>Target</i>. </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "SCRIPT" variable indicates which Command Script should be 
used to execute the Compiler or Development tool commands. </p>
<p class="MsoNormal" style="MARGIN-LEFT: 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "OSNAME" defines the Operating System the <i>Build Type</i> is 
associated to.</p>
<p class="MsoNormal" style="MARGIN-LEFT: 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "DEBUGFLAGS" or "JDEBUGFLAGS" indicates the debug flags used 
for the build.</p>
<p class="MsoNormal" style="MARGIN-LEFT: 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt list 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>The "RELEASEFLAGS" indicates the release compile flags used for 
the build.</p>
<p class="MsoNormal" style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; tab-stops: 36.0pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">     
</span>The "ALL" label </p>
<p class="MsoNormal" style="TEXT-ALIGN: center; MARGIN-LEFT: 54pt" align="center"><span style="FONT-FAMILY: 'Courier New'">all : 
load(asmhi)</span></p>
<p class="MsoNormal" style="TEXT-ALIGN: center; MARGIN-LEFT: 54pt" align="center"><span style="FONT-FAMILY: 'Courier New'"></span> </p>
<p class="MsoNormal" style="TEXT-ALIGN: center; MARGIN-LEFT: 54pt" align="center">This label displays all of the <i>Targets</i> to be included in the 
Build.  </p>
<p class="MsoNormal" style="MARGIN: 0pt 0pt 9pt 36pt"> </p>
<p class="MsoNormal" style="MARGIN-LEFT: 72pt; TEXT-INDENT: -18.5pt; tab-stops: 18.0pt 72.0pt"><span style="FONT-SIZE: 8pt"><span style="FONT-FAMILY: Verdana">•</span><span style="FONT-FAMILY: Symbol; VISIBILITY: hidden">       
</span></span>Scripts -  Below the "ALL" Label, is the beginning of the 
Command Scripts.  Scripts are managed and stored on the <i>Knowledgebase 
Server</i>.  When <span style="FONT-FAMILY: Courier">OOMLBLDM</span> 
generates the Build Control file, it writes all scripts used for the build into 
the Build Control file.  This is useful for both debugging purposes and for 
versioning purposes.  With the Scripts embedded into the Build Control 
file, the build can be re-executed at any time, regardless if there is a change 
in the Scripts stored on the <i>Knowledgebase Server</i>.  </p>
<p class="MsoNormal" style="MARGIN-BOTTOM: 9pt"> </p>
<p class="MsoNormal" style="MARGIN-BOTTOM: 9pt"> </p><span id="related-topics"></span></body></html>
